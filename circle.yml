# To use GCC and G++ 4.8
machine:
  pre:
    - sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 10
    - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 10

# To Build Teeworlds
dependencies:
  pre:
    - |
        sudo apt-get update && sudo apt-get build-dep -y teeworlds

        if [ ! -x ~/bam-0.5/bam ]; then
          git clone -b 0.5 https://github.com/matricks/bam ~/bam-0.5/
          cd ~/bam-0.5; ./make_unix.sh
        fi

  cache_directories:
    - "~/bam-0.5/"

## Artifacts
general:
  artifacts:
    - "tw_minetee"
    - "tw_minetee_srv"

## Customize test commands
test:
  override:
    - ~/bam/bam client_release
    - ~/bam/bam server_release
